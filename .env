# =============================================================================
# üöÄ CORE PLATFORM ENVIRONMENT CONFIGURATION
# =============================================================================

# =============================================================================
# üåê DOMAIN CONFIGURATION
# =============================================================================
DOMAIN=core-platform.local

# =============================================================================
# üîê KEYCLOAK CONFIGURATION
# =============================================================================
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin123
KEYCLOAK_ADMIN_BASE_URL=https://${DOMAIN}
KEYCLOAK_ADMIN_REALM=admin
KEYCLOAK_TARGET_REALM=admin
KEYCLOAK_ADMIN_CLIENT_ID=backend-admin-service
KEYCLOAK_ADMIN_CLIENT_SECRET=lYHZXQHv1lHEn1bToLzySIchd7dVIFmm

# Master realm credentials for realm management
KEYCLOAK_MASTER_USERNAME=admin
KEYCLOAK_MASTER_PASSWORD=admin123

# Test User Passwords (DEVELOPMENT ONLY)
TEST_USER_PASSWORD=Test.1234
TEST_ADMIN_PASSWORD=Test.1234

# JWT/OIDC Configuration
OIDC_ISSUER_URI=https://admin.${DOMAIN}/realms/admin
OIDC_JWK_SET_URI=https://admin.${DOMAIN}/realms/admin/protocol/openid-connect/certs
OIDC_API_AUDIENCE=api

# =============================================================================
# üóÑÔ∏è DATABASE CONFIGURATION
# =============================================================================
# Internal Docker services use simplified credentials
DB_INTERNAL_USERNAME=core
DB_INTERNAL_PASSWORD=core
DB_INTERNAL_NAME=core

# Application database (more secure)
DB_HOST=core-db
DB_PORT=5432
DB_NAME=core_platform
DB_USERNAME=core_user
DB_PASSWORD=RcdCCk8H92wUCOZiAhjsCERK33BSD6VAHUoo67oN3/U=
DATABASE_URL=jdbc:postgresql://core-db:5432/core_platform

# Keycloak database credentials (separate for security)
KEYCLOAK_DB_USERNAME=keycloak
KEYCLOAK_DB_PASSWORD=keycloak
KEYCLOAK_DB_NAME=keycloak

# Database Admin Tools
PGADMIN_EMAIL=admin@local.dev
PGADMIN_PASSWORD=admin

# =============================================================================
# üîê CORS & SECURITY CONFIGURATION
# =============================================================================
CORS_ORIGINS=http://localhost:3000,https://*.${DOMAIN}

# Application Secrets
APP_SECRET_KEY=aXOdaCQZXsbVpwe0zX/+cApk2LW1NxzoEQ3UqnVTGkMg4W+Kuzx9OBnPLiQT8eU1sh/CbABgBFiZRwCBLTMYNQ==
JWT_SIGNING_KEY=aXOdaCQZXsbVpwe0zX/+cApk2LW1NxzoEQ3UqnVTGkMg4W+Kuzx9OBnPLiQT8eU1sh/CbABgBFiZRwCBLTMYNQ==
KEYCLOAK_CLIENT_SECRET=q55Oy8mvQ82zNhQAErVEoXI6pDQxQz4x

# Rate Limiting
RATE_LIMIT_AUTH_REQUESTS_PER_MINUTE=10
RATE_LIMIT_API_REQUESTS_PER_MINUTE=100

# Session Security
SESSION_TIMEOUT_MINUTES=30
TOKEN_REFRESH_THRESHOLD_SECONDS=300

# =============================================================================
# üîó WEBHOOK CONFIGURATION
# =============================================================================
KC_WEBHOOK_ENDPOINT_URL=http://backend:8080/internal/keycloak/events
KC_WEBHOOK_SECRET=YLW4bs6Pl1+a+AJZhMvmordEqU9Z/xpkmGM3f883U3o=
KC_ENABLED_TYPES=USER_CREATED,USER_UPDATED,USER_DELETED
KC_LOG_LEVEL=INFO,cz.muriel.keycloak.webhook:DEBUG

# =============================================================================
# üåç ENVIRONMENT & PORTS
# =============================================================================
ENVIRONMENT=development
LOG_LEVEL=DEBUG

HTTP_PORT=80
HTTPS_PORT=443
KEYCLOAK_PORT=8081
GRAFANA_PORT=3001
LOKI_PORT=3100

# Admin passwords (development only!)
GRAFANA_PASSWORD=admin
GRAFANA_OAUTH_SECRET=grafana-secret-change-in-prod
PROMETHEUS_PASSWORD=admin
# =============================================================================
# üî¥ REDIS CONFIGURATION (Phase 2)
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# =============================================================================
# üì¶ MINIO CONFIGURATION (Phase 2)
# =============================================================================
MINIO_ENDPOINT=http://minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_PREFIX=tenant

# =============================================================================
# üåê WEBSOCKET CONFIGURATION (Phase 2)
# =============================================================================
WEBSOCKET_ALLOWED_ORIGINS=https://*.core-platform.local,http://localhost:*
