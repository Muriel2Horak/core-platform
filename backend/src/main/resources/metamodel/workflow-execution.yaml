entity: WorkflowExecution
table: workflow_executions
idField: id
tenantField: tenant_id

fields:
  - name: id
    type: uuid
    pk: true
    generated: true
    
  - name: tenant_id
    type: uuid
    required: true
    
  - name: entity
    type: string
    required: true
    maxLength: 255
  
  - name: status
    type: string
    required: true
    maxLength: 50
  
  - name: steps
    type: text
    required: true
  
  - name: duration_ms
    type: long
    required: true
  
  - name: error
    type: text
  
  - name: executed_at
    type: timestamp
    required: true
    generated: true
  
  - name: executed_by
    type: string
    required: true
    maxLength: 255
  
  - name: version
    type: long
    required: true

# ABAC Access Policies
accessPolicy:
  read:
    anyOf:
      - role: CORE_ADMIN_WORKFLOW
      - role: CORE_ROLE_ADMIN
      
  create:
    anyOf:
      - role: CORE_ADMIN_WORKFLOW
      - role: CORE_ROLE_ADMIN
      
  update:
    role: NEVER_ALLOWED
      
  delete:
    role: NEVER_ALLOWED

# UI Configuration
ui:
  list:
    columns: [entity, status, executed_by, executed_at, duration_ms]
    sort:
      defaultField: executed_at
      fields: [entity, status, executed_by, executed_at]
    filters: [status, entity]
      
  detail:
    sections:
      - name: Execution Details
        fields: [entity, status, executed_by, executed_at, duration_ms]
      - name: Execution Steps
        fields: [steps]
      - name: Error Details
        fields: [error]

# Fulltext search
fulltext: [entity]
