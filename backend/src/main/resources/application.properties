spring.application.name=backend
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration

# Security - OIDC issuer from env
spring.security.oauth2.resourceserver.jwt.issuer-uri=${OIDC_ISSUER}

# CORS origins (comma separated), taken from env in SecurityConfig
cors.origins=${CORS_ORIGINS:http://localhost:3000}

# Audience for JWT validation
security.oauth2.audience=${OIDC_API_AUDIENCE:api}

# Keycloak configuration for AuthController
keycloak.auth-server-url=${KEYCLOAK_URL:http://localhost:8081}
keycloak.realm=${KEYCLOAK_REALM:core-platform}
keycloak.resource=${KEYCLOAK_CLIENT_ID:web}

# üîê SECURE Keycloak Admin Service Configuration
keycloak.admin.base-url=${KEYCLOAK_ADMIN_BASE_URL}
keycloak.admin.realm=${KEYCLOAK_ADMIN_REALM:master}
keycloak.admin.client-id=${KEYCLOAK_ADMIN_CLIENT_ID}
keycloak.admin.client-secret=${KEYCLOAK_ADMIN_CLIENT_SECRET}
keycloak.target-realm=${KEYCLOAK_TARGET_REALM:core-platform}

# Spring Boot Actuator - Monitoring and Metrics
management.endpoints.web.exposure.include=health,info,prometheus,metrics
management.endpoint.health.show-details=always
management.endpoint.prometheus.enabled=true
management.metrics.export.prometheus.enabled=true

# Custom application metrics
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.distribution.slo.http.server.requests=50ms,100ms,200ms,300ms,500ms,1s