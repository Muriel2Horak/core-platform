# üîê SECURITY CONFIGURATION
# Lok√°ln√≠ development konfigurace

# =============================================================================
# üåê DOMAIN CONFIGURATION
# =============================================================================
# Primary domain for the application (REQUIRED)
# Change this to your actual domain (e.g., muriel-cz.cz, localhost, etc.)
DOMAIN=core-platform.local

# =============================================================================
# üö® CRITICAL SECURITY SETTINGS
# =============================================================================

# Keycloak Admin Credentials (REQUIRED)
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin123

# Test User Passwords (DEVELOPMENT ONLY)
TEST_USER_PASSWORD=Test.1234
TEST_ADMIN_PASSWORD=Test.1234

# Keycloak Admin Service Account (REQUIRED)
KEYCLOAK_ADMIN_BASE_URL=https://core-platform.local
KEYCLOAK_ADMIN_REALM=core-platform
KEYCLOAK_ADMIN_CLIENT_ID=backend-admin-service
KEYCLOAK_ADMIN_CLIENT_SECRET=lYHZXQHv1lHEn1bToLzySIchd7dVIFmm
KEYCLOAK_TARGET_REALM=core-platform

# Database Credentials (REQUIRED)
DB_HOST=core-db
DB_PORT=5432
DB_NAME=core
DB_USERNAME=core_user
DB_PASSWORD=RcdCCk8H92wUCOZiAhjsCERK33BSD6VAHUoo67oN3/U=
DATABASE_URL=jdbc:postgresql://core-db:5432/core

# JWT/OIDC Configuration (REQUIRED) - OPRAVENO: pou≈æ√≠v√° HTTPS konzistentnƒõ
OIDC_ISSUER_URI=https://admin.${DOMAIN}/realms/admin
OIDC_JWK_SET_URI=https://admin.${DOMAIN}/realms/admin/protocol/openid-connect/certs
OIDC_API_AUDIENCE=api

# üîê CORS Configuration - Wildcard support pro v≈°echny subdom√©ny
CORS_ORIGINS=http://localhost:3000,https://core-platform.local,https://*.core-platform.local,https://your-production-domain.com

# Application Secrets (REQUIRED)
APP_SECRET_KEY=aXOdaCQZXsbVpwe0zX/+cApk2LW1NxzoEQ3UqnVTGkMg4W+Kuzx9OBnPLiQT8eU1sh/CbABgBFiZRwCBLTMYNQ==
JWT_SIGNING_KEY=aXOdaCQZXsbVpwe0zX/+cApk2LW1NxzoEQ3UqnVTGkMg4W+Kuzx9OBnPLiQT8eU1sh/CbABgBFiZRwCBLTMYNQ==

# üîë Konfigurace OAuth2 klienta pro backend (token exchange, userinfo, refresh‚Ä¶)
KEYCLOAK_CLIENT_SECRET=q55Oy8mvQ82zNhQAErVEoXI6pDQxQz4x

# =============================================================================
# üîí OPTIONAL SECURITY SETTINGS
# =============================================================================

# Rate Limiting
RATE_LIMIT_AUTH_REQUESTS_PER_MINUTE=10
RATE_LIMIT_API_REQUESTS_PER_MINUTE=100

# Session Security
SESSION_TIMEOUT_MINUTES=30
TOKEN_REFRESH_THRESHOLD_SECONDS=300

# =============================================================================
# üåç ENVIRONMENT SPECIFIC
# =============================================================================

# Environment
ENVIRONMENT=development
LOG_LEVEL=DEBUG

# Porty
HTTP_PORT=80
HTTPS_PORT=443
KEYCLOAK_PORT=8081
GRAFANA_PORT=3001
LOKI_PORT=3100

# Admin hesla (development only!)
GRAFANA_PASSWORD=admin
PROMETHEUS_PASSWORD=admin

# Webhook konfigurace pro Keycloak SPI
KC_WEBHOOK_ENDPOINT_URL=http://backend:8080/internal/keycloak/events
KC_WEBHOOK_SECRET=YLW4bs6Pl1+a+AJZhMvmordEqU9Z/xpkmGM3f883U3o=
KC_ENABLED_TYPES=USER_CREATED,USER_UPDATED,USER_DELETED
KC_LOG_LEVEL=INFO,cz.muriel.keycloak.webhook:DEBUG

# Ostatn√≠ Keycloak konfigurace
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin123