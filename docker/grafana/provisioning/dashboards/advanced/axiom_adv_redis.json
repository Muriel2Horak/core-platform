{
  "uid": "axiom_adv_redis",
  "title": "Advanced - Redis Cache",
  "tags": ["axiom", "advanced", "redis", "cache"],
  "timezone": "browser",
  "schemaVersion": 38,
  "version": 1,
  "refresh": "30s",
  "time": {"from": "now-1h", "to": "now"},
  "templating": {
    "list": [
      {"name": "tenant", "label": "Tenant", "type": "query", "datasource": {"type": "prometheus", "uid": "${DS_PROMETHEUS}"}, "query": "label_values(redis_keyspace_hits_total, tenant)", "multi": true, "includeAll": true, "allValue": ".*", "refresh": 1}
    ]
  },
  "panels": [
    {"id": 1, "gridPos": {"h": 4, "w": 8, "x": 0, "y": 0}, "type": "stat", "title": "Hit Rate", "datasource": {"type": "prometheus", "uid": "${DS_PROMETHEUS}"}, "targets": [{"expr": "app:redis:hit_rate{tenant=~\"$tenant\"}", "refId": "A"}], "fieldConfig": {"defaults": {"unit": "percentunit", "thresholds": {"mode": "absolute", "steps": [{"value": null, "color": "red"}, {"value": 0.8, "color": "yellow"}, {"value": 0.95, "color": "green"}]}}}, "options": {"reduceOptions": {"calcs": ["lastNotNull"]}, "colorMode": "background", "graphMode": "area"}},
    {"id": 2, "gridPos": {"h": 4, "w": 8, "x": 8, "y": 0}, "type": "stat", "title": "Memory Utilization", "datasource": {"type": "prometheus", "uid": "${DS_PROMETHEUS}"}, "targets": [{"expr": "app:redis:memory_utilization", "refId": "A"}], "fieldConfig": {"defaults": {"unit": "percentunit", "thresholds": {"mode": "absolute", "steps": [{"value": null, "color": "green"}, {"value": 0.8, "color": "yellow"}, {"value": 0.9, "color": "red"}]}}}, "options": {"reduceOptions": {"calcs": ["lastNotNull"]}, "colorMode": "background", "graphMode": "area"}},
    {"id": 3, "gridPos": {"h": 4, "w": 8, "x": 16, "y": 0}, "type": "stat", "title": "Eviction Rate", "datasource": {"type": "prometheus", "uid": "${DS_PROMETHEUS}"}, "targets": [{"expr": "app:redis:evictions_rate", "refId": "A"}], "fieldConfig": {"defaults": {"unit": "ops", "thresholds": {"mode": "absolute", "steps": [{"value": null, "color": "green"}, {"value": 10, "color": "yellow"}, {"value": 100, "color": "red"}]}}}, "options": {"reduceOptions": {"calcs": ["lastNotNull"]}, "colorMode": "background", "graphMode": "area"}},
    {"id": 4, "gridPos": {"h": 8, "w": 12, "x": 0, "y": 4}, "type": "timeseries", "title": "Hit Rate %", "datasource": {"type": "prometheus", "uid": "${DS_PROMETHEUS}"}, "targets": [{"expr": "app:redis:hit_rate{tenant=~\"$tenant\"}", "legendFormat": "{{tenant}}", "refId": "A"}], "fieldConfig": {"defaults": {"unit": "percentunit", "max": 1, "min": 0, "custom": {"drawStyle": "line", "lineInterpolation": "smooth", "fillOpacity": 10}}}},
    {"id": 5, "gridPos": {"h": 8, "w": 12, "x": 12, "y": 4}, "type": "timeseries", "title": "Memory Usage", "datasource": {"type": "prometheus", "uid": "${DS_PROMETHEUS}"}, "targets": [{"expr": "redis_memory_used_bytes", "legendFormat": "Used", "refId": "A"}, {"expr": "redis_memory_max_bytes", "legendFormat": "Max", "refId": "B"}], "fieldConfig": {"defaults": {"unit": "bytes", "custom": {"drawStyle": "line", "lineInterpolation": "smooth", "fillOpacity": 10}}}},
    {"id": 6, "gridPos": {"h": 8, "w": 12, "x": 0, "y": 12}, "type": "timeseries", "title": "Command Rate", "datasource": {"type": "prometheus", "uid": "${DS_PROMETHEUS}"}, "targets": [{"expr": "app:redis:commands_rate{tenant=~\"$tenant\"}", "legendFormat": "{{command}}", "refId": "A"}], "fieldConfig": {"defaults": {"unit": "ops", "custom": {"drawStyle": "line", "lineInterpolation": "smooth", "stacking": {"mode": "normal"}}}}},
    {"id": 7, "gridPos": {"h": 8, "w": 12, "x": 12, "y": 12}, "type": "timeseries", "title": "Evictions", "datasource": {"type": "prometheus", "uid": "${DS_PROMETHEUS}"}, "targets": [{"expr": "app:redis:evictions_rate", "legendFormat": "Evictions/sec", "refId": "A"}], "fieldConfig": {"defaults": {"unit": "ops", "custom": {"drawStyle": "line", "lineInterpolation": "smooth", "fillOpacity": 10}}}}
  ]
}
